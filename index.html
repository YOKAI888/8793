<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ¸æš—ã‚è™¹è‰²å®‡å®™ãƒ»é¼»ããã‚ã£ã—ã‚‡ã„ğŸŒ¸</title>
<style>
html,body{
  margin:0;padding:0;overflow:hidden;height:100%;
  background: linear-gradient(270deg,#442244,#223344,#334422,#443322,#332244);
  background-size:1200% 1200%;
  animation: gradientShift 40s ease infinite;
}
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.snow{position:absolute;pointer-events:none;font-size:22px;animation:snowfall linear forwards;opacity:0.85;}
@keyframes snowfall{
0%{transform:translateY(-100px) translateX(0) rotate(0deg);opacity:0}
10%{opacity:0.85}
100%{transform:translateY(calc(100vh + 100px)) translateX(var(--swing)) rotate(360deg);opacity:0}
}
.ground-snow{position:absolute;bottom:0;width:10px;height:10px;background:rgba(255,255,255,0.9);border-radius:50%;box-shadow:0 0 10px #fff;pointer-events:none;}
.poop{position:absolute;font-size:16px;color:#ffccff;text-shadow:0 0 5px #fff;cursor:pointer;user-select:none;transition:all 0.6s ease;}
.face{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:45px;color:#fff;text-shadow:0 0 12px #000;pointer-events:none;opacity:0;transition:opacity .4s} </style>

</head>
<body>

<div class="face" id="f1">( Â´,_ã‚ï½€)ï¾Œï¾Ÿï½¯</div>
<div class="face" id="f2">ãƒã‚«ãŒæŠ¼ã™ã…ã€œ( Â´_ã‚ï½€)</div>

<script>
const poops=[];
const pastelColors=["#ffeef5","#e0ffff","#f0e8ff","#e8fff0","#fff8e8","#fff0ff"];
let mouseX=0,mouseY=0,isMouseActive=false;

for(let i=0;i<500;i++){
  const p=document.createElement('div');
  p.className='poop';
  p.innerText='ğŸ’©';
  p.style.left=Math.random()*innerWidth+'px';
  p.style.top=Math.random()*innerHeight+'px';
  p.vx=Math.random()*0.4-0.2;
  p.vy=Math.random()*0.4-0.2;
  document.body.appendChild(p);
  poops.push(p);
}

document.addEventListener('mousemove', e=>{
  mouseX=e.clientX; mouseY=e.clientY; isMouseActive=true;
  clearTimeout(window.mouseTimer);
  window.mouseTimer=setTimeout(()=>isMouseActive=false,1000);
});

function snow(){
  for(let i=0;i<8;i++){
    const s=document.createElement('div');
    s.className='snow';
    s.innerText=['â„','â…','â†','âœ´','âœ¿'][Math.floor(Math.random()*5)];
    s.style.color=pastelColors[Math.floor(Math.random()*pastelColors.length)];
    s.style.left=Math.random()*innerWidth+'px';
    s.style.fontSize=Math.random()*14+18+'px';
    const dur=Math.random()*10+15;
    s.style.animationDuration=dur+'s';
    s.style.setProperty('--swing',(Math.random()*200-100)+'px');
    document.body.appendChild(s);

    setTimeout(()=>{
      if(Math.random()<0.65){
        const g=document.createElement('div');
        g.className='ground-snow';
        g.style.left=parseFloat(s.style.left)+parseFloat(getComputedStyle(s).getPropertyValue('--swing')||0)+'px';
        g.style.opacity=Math.random()*0.5+0.5;
        document.body.appendChild(g);
        setTimeout(()=>g.remove(),12000);
      }
    },dur*1000);
  }
}
setInterval(snow,350);
snow();

function animate(){
  poops.forEach(p=>{
    let x=parseFloat(p.style.left);
    let y=parseFloat(p.style.top);
    if(isMouseActive){
      const dx=mouseX-x;
      const dy=mouseY-y;
      p.style.left=x+dx*0.018+'px';
      p.style.top=y+dy*0.018+'px';
    } else {
      x+=p.vx; y+=p.vy;
      if(x<0||x>innerWidth)p.vx*=-1;
      if(y<0||y>innerHeight)p.vy*=-1;
      p.style.left=x+'px';
      p.style.top=y+'px';
    }
  });
  requestAnimationFrame(animate);
}
animate();

document.addEventListener('click', e=>{
  poops.forEach(p=>{
    const rect=p.getBoundingClientRect();
    const dx=e.clientX-(rect.left+rect.width/2);
    const dy=e.clientY-(rect.top+rect.height/2);
    if(dx*dx+dy*dy<800){
      if(Math.random()<1/20){
        for(let i=0;i<90;i++){
          const sakura=document.createElement('div');
          sakura.className='snow';
          sakura.innerText='ğŸŒ¸';
          sakura.style.left=e.clientX+Math.random()*200-100+'px';
          sakura.style.top=e.clientY+Math.random()*100-50+'px';
          sakura.style.color='#ffb6c1';
          sakura.style.fontSize=Math.random()*12+18+'px';
          sakura.style.animationDuration=Math.random()*3+3+'s';
          document.body.appendChild(sakura);
          setTimeout(()=>sakura.remove(),6000);
        }
      } else {
        const f=Math.random()<0.88?'f1':'f2';
        document.getElementById(f).style.opacity=1;
        setTimeout(()=>document.getElementById(f).style.opacity=0,900);
      }
    }
  });
});
</script>

</body>
</html>
