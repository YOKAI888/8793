<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ¸é¼»ããã‚ã£ã—ã‚‡ã„ï¼šçˆ†é€Ÿãƒ»å®çŸ³ğŸ’©ğŸŒ¸</title>
<style>
  html,body{margin:0;padding:0;overflow:hidden;height:100%;background:linear-gradient(270deg,#1a1a2e,#162447,#1f4068,#1b1b2f,#0f0f1f);background-size:1200% 1200%;animation:g 40s ease infinite}
  @keyframes g{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

  .snow{position:absolute;pointer-events:none;font-size:22px;animation:snowfall linear forwards;color: white; text-shadow: 0 0 10px #fff;}
  @keyframes snowfall{
    0%{transform:translateY(-100px) translateX(0) rotate(0deg);opacity:0}
    10%{opacity:0.85}
    100%{transform:translateY(calc(100vh + 100px)) translateX(var(--swing)) rotate(360deg);opacity:0}
  }

  .poop-container {
    position:absolute; width: 30px; height: 30px; 
    display: flex; align-items: center; justify-content: center;
    will-change: transform; pointer-events: auto;
  }

  /* ğŸ’©æœ¬ä½“ï¼šãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ä½¿ã‚ãšã€å¾Œã‚ã®å…‰ã‚’é€ã‹ã›ã‚‹ */
  .poop-inner {
    font-size: 24px; position: relative; z-index: 2; cursor: pointer;
  }

  /* ğŸ’©ã®å¾Œã‚ã§è¼ãå®çŸ³ã®å…‰ï¼šã“ã„ã¤ãŒè‰²ã‚’ã¤ã‘ã‚‹ */
  .poop-light {
    position: absolute; width: 20px; height: 20px; border-radius: 50%;
    filter: blur(8px); /* ã¼ã‹ã—ã¯é™æ­¢ç”»ã¨ã—ã¦å‡¦ç†ã•ã‚Œã‚‹ã®ã§è»½ã„ */
    z-index: 1; opacity: 0.8;
  }

  .face{position:absolute;font-size:45px;color:#fff;text-shadow:0 0 12px #000;pointer-events:none;z-index:100;}
</style>
</head>
<body>

<script>
const poops = [];
const jewelColors = ["#ff99cc", "#99ffff", "#cc99ff", "#99ffcc", "#ffff99", "#ffcc99"];
let mouseX = 0, mouseY = 0;
let isMouseActive = false;

// ğŸ’©ç”Ÿæˆï¼šã‚³ãƒ³ãƒ†ãƒŠæ–¹å¼ã§è»½é‡åŒ–
for(let i=0; i<250; i++){ // å°‘ã—æ•°ã‚’çµã£ã¦ã•ã‚‰ã«å¿«é©ã«
  const container = document.createElement('div');
  container.className = 'poop-container';
  
  const light = document.createElement('div');
  light.className = 'poop-light';
  light.style.backgroundColor = jewelColors[Math.floor(Math.random() * jewelColors.length)];
  
  const inner = document.createElement('div');
  inner.className = 'poop-inner';
  inner.innerText = 'ğŸ’©';

  container.appendChild(light);
  container.appendChild(inner);
  
  const p = {
    el: container,
    x: Math.random() * window.innerWidth,
    y: Math.random() * window.innerHeight,
    vx: Math.random() * 1.4 - 0.7,
    vy: Math.random() * 1.4 - 0.7
  };
  
  document.body.appendChild(container);
  poops.push(p);
}

document.addEventListener('mousemove', e => {
  mouseX = e.clientX; mouseY = e.clientY;
  isMouseActive = true;
  clearTimeout(window.mouseTimer);
  window.mouseTimer = setTimeout(()=> isMouseActive = false, 1000);
});

function snow(){
  for(let i=0; i<4; i++){
    const s = document.createElement('div');
    s.className='snow';
    s.innerText = ['â„','â…','â†','âœ´','âœ¿'][Math.floor(Math.random()*5)];
    s.style.left = Math.random() * window.innerWidth + 'px';
    const dur = Math.random() * 8 + 10;
    s.style.animationDuration = dur +'s';
    s.style.setProperty('--swing', (Math.random() * 200 - 100) + 'px');
    document.body.appendChild(s);
    setTimeout(() => s.remove(), dur * 1000);
  }
}
setInterval(snow, 800);

function animate(){
  poops.forEach(p => {
    if(isMouseActive){
      p.x += (mouseX - p.x) * 0.04;
      p.y += (mouseY - p.y) * 0.04;
    } else {
      p.x += p.vx;
      p.y += p.vy;
      if(p.x < 0 || p.x > window.innerWidth) p.vx *= -1;
      if(p.y < 0 || p.y > window.innerHeight) p.vy *= -1;
    }
    // transformã‚’ä½¿ã†ã“ã¨ã§CPUã§ã¯ãªãGPUã«ä»•äº‹ã‚’æŠ•ã’ã‚‹
    p.el.style.transform = `translate3d(${p.x}px, ${p.y}px, 0)`;
  });
  requestAnimationFrame(animate);
}
animate();

document.addEventListener('click', e => {
  let hit = false;
  poops.forEach(p => {
    const dx = e.clientX - p.x;
    const dy = e.clientY - p.y;
    if(dx*dx + dy*dy < 4000) hit = true;
  });

  if(hit){
    const f = document.createElement('div');
    f.className='face';
    f.innerText = Math.random() < 0.1 ? 'ãƒã‚«ãŒæŠ¼ã™ã…ã€œ( Â´_ã‚ï½€)' : '( Â´,_ã‚ï½€)ï¾Œï¾Ÿï½¯';
    f.style.left = e.clientX + 'px';
    f.style.top = e.clientY + 'px';
    document.body.appendChild(f);
    setTimeout(() => f.remove(), 800);
  }
});
</script>
</body>
</html>